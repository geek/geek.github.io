<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Deploying hapi to modulus | Wyatt</title>
	<link rel="shortcut icon" href="/static/images/favicon.ico">

	<!-- CSS -->
	<!--===============================================================-->
	<link href="/static/css/bootstrap.min.css" rel="stylesheet">
	<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
	<link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	<link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,300,300italic,400italic,600,600italic,700' rel='stylesheet' type='text/css'> 
	<link href="/static/css/theme.css" rel="stylesheet">
	<link href="/static/css/magnific-popup.css" rel="stylesheet">
	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>
<body>
	

<!-- NAVBAR-->
<!--===============================================================-->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="row">
      <div class="col-sm-4">
        <a class="navbar-brand navbar-brand-blog" data-scroll href="/index.html"><img src="/static/images/logo.png" style="max-height: 60px; max-width: 60px;" alt="logo"></a>
      </div>
      <div class="col-sm-8">
        <a data-scroll href="/blog.html"><h2 class="pull-right title-blog">BLOG</h2></a>
      </div>
    </div>
  </div>
</div>


<!-- INTRO-->
<!--===============================================================-->
<div class="bg-intro-blog" id="home">
	<div class="layer-intro-blog">
	</div>
</div>


<!-- BLOG-->
<!--===============================================================-->
<div class="bg-post">
	<div class="container">
		<div class="row row-blog">
			<div class="col-md-8 col-md-offset-2 wrapper-blog">

				<div class="row">
					<div class="col-sm-12">
						<h1 class="title-post">Deploying hapi to modulus</h1>
						<p class="small author"><span class="green"></span></p>

						

<h3>Introduction</h3>

<p>Deploying a site that depends on hapi is quite easy.  However, I still think it is important to walk through the process as it may not be completely obvious.</p>

<h3>Prerequisites</h3>

<p>Before beginning create an account on <a href="http://modulus.io">modulus.io</a>.</p>

<p>After this you will need to create a hapi project.  To make it easy I created a simple project that you can clone.</p>

<pre><code>git clone git://github.com/wpreul/hapi-modulus.git
</code></pre>

<h3>Site code</h3>

<p>The important thing to note is that modulus sets an environmental variable for the PORT that it expects your site to listen and that hapi expects the port to be a number.  Therefore, you will need to convert the <code>process.env.PORT</code> to a number in the server constructor.  Below is the code to do this:</p>

<pre><code>var Hapi = require('hapi');
var server = new Hapi.Server(+process.env.PORT);
</code></pre>

<p>After this, everything is business as usual; add your routes and handlers then start the server.</p>

<h3>Deploying to modulus</h3>

<p>When you are ready to deploy to modulus follow the terminal commands below to create and push your code to your modulus site.</p>

<p>Before beginning, install the modulus npm module by running:</p>

<ol>
<li><code>npm install -g modulus</code></li>
<li><code>git clone git://github.com/wpreul/hapi-modulus.git</code></li>
<li><code>cd hapi-modulus</code></li>
<li><code>modulus login</code></li>
<li><code>modulus project create</code></li>
<li><code>modulus deploy</code></li>
</ol>

<p>Thats it, the browser should open and your site should appear.</p>


					</div>
				</div>

				<hr>

				<div class="row">
					<div class="col-sm-12">
						<ul class="pager">
							
								<li class="previous">
									<a href='/posts/console-assert.html'>
										<span class="arrow">&larr;</span> Use console.assert in node
									</a>
								</li>
							
							
								<li class="next">
									<a href='/posts/node-foundation-board-nomination.html'>
										Node Foundation Board Nomination <span class="arrow">&rarr;</span>
									</a>
								</li>
							
						</ul>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>


<!-- FOOTER-->
<!--===============================================================-->
<div class="bg-footer">
  <div class="container">
    <div class="row text-center">
      <div class="col-sm-12">
        <a href="https://github.com/geek"><i class="fa fa-github"></i></a>
        <a href="https://twitter.com/wpreul"><i class="fa fa-twitter"></i></a>
        <a href="https://www.linkedin.com/in/nodejs"><i class="fa fa-linkedin"></i></a>
      </div>
    </div>
  </div>
</div>

<!-- FOOTER-BOTTOM-->
<!--===============================================================-->
<div class="bg-footer-bottom">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <p class="text-center"></p>
      </div>
    </div>
  </div>
</div>




	
		<!-- JAVASCRIPT-->
    <!--===============================================================-->
		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.magnific-popup.min.js"></script>
    <script src="/static/js/smooth-scroll.js"></script>
    <script src="/static/js/jRespond.min.js"></script>
    <script src="/static/js/script.js"></script>
	
</body>
</html>
